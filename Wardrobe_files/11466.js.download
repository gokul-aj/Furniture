var popinHead=document.head,popinLink=document.createElement("link"),popinDomain="https://widget01.popin.to/production",popinWidgetCallBack=(popinLink.type="text/css",popinLink.rel="stylesheet",popinLink.href=popinDomain+"/css/widget.css",""),popinVisibilityMode=0,popinLoaded=!1,collapsedClass=(popinHead.appendChild(popinLink),"pop-in-collapsed"),expandedClass="pop-in-expanded";function Popin(e,o){"function"==typeof popinWidgetCallBack?popinWidgetCallBack(e,o):(loadPopinBaseWidget(),setTimeout(()=>{popinWidgetCallBack(e,o)},2500))}function widgetAction(e){popinWidgetCallBack=e}function promptBeforeWindowClose(e){window.onbeforeunload=e?function(){return"Are you sure you want to close?"}:null}function onSizeChange(e){var o=document.getElementById("pop-in-widget");"expand"==e?(o.classList.remove(collapsedClass),o.classList.remove("pop-in-fullscreen"),o.classList.add(expandedClass),o.classList.add("popin-widget-shadow")):"collapse"==e?(o.classList.remove(expandedClass),o.classList.remove("pop-in-fullscreen"),o.classList.remove("popin-widget-shadow"),o.classList.remove("popin-widget-center"),1!=popinVisibilityMode&&o.classList.add(collapsedClass)):"fullscreen"==e?(o.classList.remove(expandedClass),o.classList.remove(collapsedClass),o.classList.remove("popin-widget-shadow"),o.classList.remove("popin-widget-center"),o.classList.add("pop-in-fullscreen")):"center"==e&&(o.classList.remove(expandedClass),o.classList.remove(collapsedClass),o.classList.remove("popin-widget-shadow"),o.classList.remove("pop-in-fullscreen"),o.classList.add("popin-widget-center"),setTimeout(function(){o.classList.add("popin-widget-shadow")},2e3))}function popInWidgetInit(i){if(popinLoaded=!0,console.log("POPIN_WIDGET_LOAD",1),window.popInComponent)i.captured&&Popin("captured",i.captured),i.sale&&Popin("sale",i.sale);else{let o="11498"==i.token?"left":"right",e=("hidden"==i.mode&&(popinVisibilityMode=1),collapsedClass="left"==o?"pop-in-collapsed-left":"pop-in-collapsed",expandedClass="left"==o?"pop-in-expanded-left":"pop-in-expanded",document.getElementById("pop-in-widget"));if(e)0==popinVisibilityMode&&e.setAttribute("class",collapsedClass);else{let e=document.createElement("div");e.setAttribute("id","pop-in-widget"),0==popinVisibilityMode&&e.setAttribute("class",collapsedClass),document.body.appendChild(e)}var n=document.createElement("script"),t=new URL(popinDomain+"/index.html",window.location.href).href;n.addEventListener("load",e=>{window.popInComponent=zoid.create({tag:"pop-in-chat-widget",url:t,props:{popInSellerToken:{type:"string",required:!0},url:{type:"string",required:!1},onSizeChange:{type:"function",required:!1},popinUserData:{type:"string",required:!1},popinSetUserData:{type:"function",required:!1},widgetAction:{type:"function",required:!1,value:()=>widgetAction},orientation:{type:"string",required:!1},promptBeforeWindowClose:{type:"function",required:!1,value:()=>promptBeforeWindowClose}},prerenderTemplate:()=>null}),popInComponent({popInSellerToken:i.token,agent:i.agent,sale:i.sale,captured:i.captured,mode:i.mode,url:window.location.href,widgetColor:i.widgetColor,orientation:o,popinUserData:localStorage.getItem("popinUserData"),popinUserCaptured:localStorage.getItem("popinUserCaptured"),popinViewCache:localStorage.getItem("popinViewCache"),onSizeChange:onSizeChange,popinSetUserData:e=>{localStorage.setItem("popinUserData",JSON.stringify(e))},popinSetUserCaptured:()=>{localStorage.setItem("popinUserCaptured",1)},popinSetViewCache:e=>{localStorage.setItem("popinViewCache",e)}}).render("#pop-in-widget")}),n.src=popinDomain+"/js/popin.js",document.body.appendChild(n)}}function loadPopinBaseWidget(){popinLoaded||popInWidgetInit({token:"11466",mode:"hidden"})}setTimeout(function(){loadPopinBaseWidget()},2e3);